{"ast":null,"code":"var _callbacks = [];\nvar _mouseUpListenerIsActive = false;\nfunction _handleMouseUp() {\n  _callbacks.forEach(function (callback) {\n    callback();\n  });\n}\nvar subscribe = function subscribe(callback) {\n  if (_callbacks.indexOf(callback) === -1) {\n    _callbacks.push(callback);\n  }\n  if (!_mouseUpListenerIsActive) {\n    window.addEventListener('mouseup', _handleMouseUp);\n    _mouseUpListenerIsActive = true;\n  }\n  return {\n    remove: function remove() {\n      var index = _callbacks.indexOf(callback);\n      _callbacks.splice(index, 1);\n      if (_callbacks.length === 0 && _mouseUpListenerIsActive) {\n        window.removeEventListener('mouseup', _handleMouseUp);\n        _mouseUpListenerIsActive = false;\n      }\n    }\n  };\n};\nexport default {\n  subscribe: subscribe,\n  __triggerForTests: _handleMouseUp\n};","map":null,"metadata":{},"sourceType":"module"}